!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.tatting=t()}(this,function(){"use strict";function n(){function n(n){this.do=n}function t(t){const e=new n(t);l||(l=e),s&&(s.next=e),s=e,!a&&d&&f()}function e(){l?(l.do(),l=l.next):clearInterval(a)}function o(){for(;l;)e()}function f(n=1e3){d=!0,a=n>0?setInterval(e,n):setImmediate(()=>{e();l&&f(0)})}function i(){d=!1,clearInterval(a)}function u(n,e,o,f=1){(f>0?e<=o:e>=o)&&t(()=>{n(e);u(n,e+f,o)})}function c(n,t){u(e=>{t(n[e],e)},0,n.length-1)}function r(n,e){n()&&t(()=>{e();r(n,e)})}let d,a,l,s;return{add:t,for:u,each:c,while:r,flush:o,play:f,pause:i}}function t(){return n.t||(n.t=n())}return t});
